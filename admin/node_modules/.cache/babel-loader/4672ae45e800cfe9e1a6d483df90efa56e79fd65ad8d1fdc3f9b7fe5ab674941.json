{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\HOTEL RESERVATION SYSTEM LATEST\\\\front end\\\\admin\\\\src\\\\Reports.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { supabase } from './lib/supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst guestDataInit = [{\n  checkInDate: 'Mar 28',\n  checkInTime: '6:55:00 PM',\n  checkOutDate: 'Mar 29',\n  checkOutTime: '7:20 AM',\n  name: '',\n  company: '',\n  email: '',\n  contact: '',\n  roomNo: '',\n  days: '',\n  pax: '',\n  amount: '',\n  remarks: 'Checked-Out',\n  sector: 'BPO',\n  purpose: 'holiday/rest/recreation',\n  travel: 'Independent travel',\n  frequency: 'First timer',\n  gender: 'MALE',\n  type: 'Domestic Guest',\n  address: 'BENGUET',\n  checkedInBy: 'RENDEL',\n  checkedOutBy: 'MARYROSE',\n  plateNo: ''\n}, {\n  checkInDate: 'Mar 28',\n  checkInTime: '6:55:00 PM',\n  checkOutDate: 'Mar 29',\n  checkOutTime: '7:20 AM',\n  name: '',\n  company: '',\n  email: '',\n  contact: '',\n  roomNo: '',\n  days: '',\n  pax: '',\n  amount: '',\n  remarks: 'Checked-Out',\n  sector: 'CONSUMER GOOD',\n  purpose: 'holiday/rest/recreation',\n  travel: 'Bought package tour',\n  frequency: 'First timer',\n  gender: 'FEMALE',\n  type: 'Domestic Guest',\n  address: 'BENGUET',\n  checkedInBy: 'RENDEL',\n  checkedOutBy: 'MARYROSE',\n  plateNo: ''\n}, {\n  checkInDate: 'Mar 28',\n  checkInTime: '8:04:00 PM',\n  checkOutDate: 'Mar 30',\n  checkOutTime: '7:20 AM',\n  name: '',\n  company: '',\n  email: '',\n  contact: '',\n  roomNo: '',\n  days: '',\n  pax: '',\n  amount: '',\n  remarks: 'Checked-Out',\n  sector: 'TELECOM IT',\n  purpose: 'Business & related business/trade',\n  travel: 'Repeat visitors',\n  frequency: 'Repeat visitors',\n  gender: 'FEMALE',\n  type: 'Domestic Guest',\n  address: 'BAGUIO CITY',\n  checkedInBy: 'RENDEL',\n  checkedOutBy: 'MAYBELL',\n  plateNo: ''\n}, {\n  checkInDate: 'Mar 30',\n  checkInTime: '2:34:00 AM',\n  checkOutDate: 'Apr 2',\n  checkOutTime: '11:26 AM',\n  name: '',\n  company: '',\n  email: '',\n  contact: '9364257542',\n  roomNo: '20',\n  days: '3',\n  pax: '7',\n  amount: '9800',\n  remarks: 'Checked-Out',\n  sector: '',\n  purpose: '',\n  travel: '',\n  frequency: '',\n  gender: '',\n  type: '',\n  address: '',\n  checkedInBy: '',\n  checkedOutBy: '',\n  plateNo: ''\n}, {\n  checkInDate: 'Mar 30',\n  checkInTime: '12 nn',\n  checkOutDate: 'Mar 30',\n  checkOutTime: '',\n  name: '',\n  company: '',\n  email: '',\n  contact: '',\n  roomNo: '21',\n  days: '1',\n  pax: '1',\n  amount: '1500',\n  remarks: 'Check -Inn',\n  sector: '',\n  purpose: '',\n  travel: '',\n  frequency: '',\n  gender: '',\n  type: '',\n  address: '',\n  checkedInBy: '',\n  checkedOutBy: '',\n  plateNo: ''\n}];\nconst columns = ['Name', 'Email Address', 'Contact No.', 'Room No.', 'Check-in Date', 'Check-out Date', 'No. of Days', 'Amount', 'Plate No.', 'Checked-in By', 'Checked-out By', 'Remarks'];\nfunction Reports() {\n  _s();\n  const [remarksFilter, setRemarksFilter] = useState('All');\n  const [guestData, setGuestData] = useState(guestDataInit);\n  const [showAdd, setShowAdd] = useState(false);\n  const [newGuest, setNewGuest] = useState(() => Object.fromEntries(columns.map(col => [col.replace(/ |\\//g, '').replace(/-/g, ''), ''])));\n  const [search, setSearch] = useState('');\n  const [detailRow, setDetailRow] = useState(null);\n  const [editTimesRow, setEditTimesRow] = useState(null); // row being edited for times\n  const [editTimes, setEditTimes] = useState({\n    inHM: '',\n    outHM: '',\n    inBy: '',\n    outBy: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const normalize = (v = '') => String(v || '').toLowerCase();\n  const isCheckedOut = r => normalize(r.remarks) === 'checked-out';\n  const isCheckedIn = r => normalize(r.remarks) === 'checked-in';\n  const totalRevenue = guestData.reduce((sum, r) => sum + (Number(r.amount) || 0), 0);\n  const checkedInCount = guestData.filter(isCheckedIn).length;\n  const checkedOutCount = guestData.filter(isCheckedOut).length;\n  const matchesSearch = row => {\n    const q = normalize(search);\n    if (!q) return true;\n    return [row.name, row.email, row.contact, row.roomNo, row.plateNo].some(v => normalize(v).includes(q));\n  };\n  const filteredData = guestData.filter(row => remarksFilter === 'All' ? true : row.remarks === remarksFilter).filter(matchesSearch);\n  const uniqueRemarks = Array.from(new Set(guestData.map(row => row.remarks)));\n\n  // Export current filtered data to Excel (.xlsx)\n  const handleExportExcel = async () => {\n    try {\n      // Dynamic import so the app still loads even if xlsx isn't installed yet\n      const mod = await import('xlsx');\n      const XLSX = mod && mod.default ? mod.default : mod; // support both ESM and CJS shapes\n      // Map visible rows to a flat object with human-friendly headers\n      const rows = filteredData.map(r => ({\n        'Check-in Date': r.checkInDate,\n        'Check-in Time': r.checkInTime,\n        'Check-out Date': r.checkOutDate,\n        'Check-out Time': r.checkOutTime,\n        'Name': r.name,\n        'Company': r.company,\n        'Email Address': r.email,\n        'Contact No.': r.contact,\n        'Room No.': r.roomNo,\n        'No. of Days': r.days,\n        'No. of Pax': r.pax,\n        'Amount': r.amount,\n        'Remarks': r.remarks,\n        'Sector': r.sector,\n        'Purpose of Visit': r.purpose,\n        'Travel Arrangement': r.travel,\n        'Frequency of Visit': r.frequency,\n        'Gender': r.gender,\n        'Type of Guest': r.type,\n        'Address/Country': r.address,\n        'Checked-in By': r.checkedInBy,\n        'Checked-out By': r.checkedOutBy,\n        'Plate No.': r.plateNo\n      }));\n      const ws = XLSX.utils.json_to_sheet(rows);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, 'Reports');\n      const fileName = `reports_${new Date().toISOString().slice(0, 10)}.xlsx`;\n      XLSX.writeFile(wb, fileName);\n    } catch (e) {\n      console.error('Export to Excel failed:', e);\n      alert('Export failed. Please ensure the \"xlsx\" package is installed in admin frontend (npm i xlsx).');\n    }\n  };\n  const handleAddGuest = () => {\n    setGuestData([{\n      ...newGuest\n    }, ...guestData]);\n    setShowAdd(false);\n    setNewGuest(Object.fromEntries(columns.map(col => [col.replace(/ |\\//g, '').replace(/-/g, ''), ''])));\n  };\n\n  // Map column names to object keys for newGuest\n  const colToKey = col => col.replace(/ |\\//g, '').replace(/-/g, '');\n  const StatusChip = ({\n    remarks\n  }) => {\n    const r = normalize(remarks);\n    if (r === 'checked-out') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"px-2 py-0.5 rounded-full text-xs font-semibold bg-red-600/20 text-red-300 border border-red-500/40\",\n      children: \"Checked-Out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 37\n    }, this);\n    if (r === 'checked-in' || r === 'confirmed') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"px-2 py-0.5 rounded-full text-xs font-semibold bg-green-600/20 text-green-300 border border-green-500/40\",\n      children: \"Checked-In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 57\n    }, this);\n    if (r === 'pending') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"px-2 py-0.5 rounded-full text-xs font-semibold bg-yellow-500/20 text-yellow-300 border border-yellow-400/40\",\n      children: \"Pending\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 33\n    }, this);\n    if (r === 'cancelled') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"px-2 py-0.5 rounded-full text-xs font-semibold bg-rose-600/20 text-rose-300 border border-rose-500/40\",\n      children: \"Cancelled\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 35\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"px-2 py-0.5 rounded-full text-xs font-semibold bg-gray-500/20 text-gray-300 border border-gray-400/40\",\n      children: \"Status\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 12\n    }, this);\n  };\n  const Field = ({\n    label,\n    value,\n    icon\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center gap-1\",\n    children: [icon && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"opacity-80\",\n      children: icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-gray-300 text-xs\",\n      children: [label, \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-white text-sm font-medium\",\n      children: value || '—'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n\n  // Fetch real data from Supabase reservations\n  useEffect(() => {\n    let cancelled = false;\n    const mapReservation = r => {\n      const toDate = iso => {\n        if (!iso) return {\n          d: '',\n          t: ''\n        };\n        const dt = new Date(iso);\n        if (isNaN(dt)) return {\n          d: '',\n          t: ''\n        };\n        const d = dt.toLocaleDateString(undefined, {\n          month: 'short',\n          day: '2-digit'\n        });\n        const t = dt.toLocaleTimeString();\n        return {\n          d,\n          t\n        };\n      };\n      const ciISO = r.checkin_at || r.check_in || r.start_date || r.created_at || null;\n      const coISO = r.checkout_at || r.check_out || r.end_date || null;\n      const ci = toDate(ciISO);\n      const co = toDate(coISO);\n      const checkInField = r.hasOwnProperty('checkin_at') ? 'checkin_at' : r.hasOwnProperty('check_in') ? 'check_in' : r.hasOwnProperty('start_date') ? 'start_date' : undefined; // avoid editing created_at\n      const checkOutField = r.hasOwnProperty('checkout_at') ? 'checkout_at' : r.hasOwnProperty('check_out') ? 'check_out' : r.hasOwnProperty('end_date') ? 'end_date' : undefined;\n      // Map reservation.status exactly to reports remarks\n      const statusRaw = (r.status || '').toString().toLowerCase();\n      let remarks = 'Pending';\n      if (statusRaw === 'pending') remarks = 'Pending';else if (statusRaw === 'confirmed') remarks = 'Checked-In';else if (statusRaw === 'checked out') remarks = 'Checked-Out';else if (statusRaw === 'cancelled') remarks = 'Cancelled';\n      // Prefer joined customer profile fields when available\n      const customer = r.customer || r.customer_profiles || null;\n      return {\n        _id: r.id,\n        _ciISO: ciISO,\n        _coISO: coISO,\n        _checkInField: checkInField,\n        _checkOutField: checkOutField,\n        checkInDate: ci.d,\n        checkInTime: ci.t,\n        checkOutDate: co.d,\n        checkOutTime: co.t,\n        name: (customer === null || customer === void 0 ? void 0 : customer.full_name) || r.user_name || r.name || '',\n        company: r.company || '',\n        email: (customer === null || customer === void 0 ? void 0 : customer.email) || r.user_email || r.email || '',\n        contact: (customer === null || customer === void 0 ? void 0 : customer.contact_number) || r.user_contact || r.contact || '',\n        roomNo: r.room_name || r.room_no || r.room || '',\n        days: r.nights || r.days || '',\n        pax: r.guest_count || r.pax || r.guests || '',\n        amount: r.total_amount || r.amount || r.price || '',\n        remarks,\n        sector: r.sector || '',\n        purpose: r.purpose || '',\n        travel: r.travel || '',\n        frequency: r.frequency || '',\n        gender: (customer === null || customer === void 0 ? void 0 : customer.gender) || r.gender || '',\n        type: r.type || '',\n        address: r.address || r.country || '',\n        checkedInBy: r.checked_in_by || '',\n        checkedOutBy: r.checked_out_by || '',\n        plateNo: (customer === null || customer === void 0 ? void 0 : customer.plate_no) || r.plate_no || r.vehicle_plate || ''\n      };\n    };\n    (async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        // First, try join to customer_profiles via customer_id (requires FK)\n        let dataResp = await supabase.from('reservations').select(`\n            *,\n            customer:customer_id (\n              full_name,\n              email,\n              contact_number,\n              gender,\n              plate_no\n            )\n          `).order('created_at', {\n          ascending: false\n        }).limit(200);\n\n        // If relationship is missing, fall back to simple select\n        if (dataResp.error && String(dataResp.error.message || '').includes('relationship')) {\n          dataResp = await supabase.from('reservations').select('*').order('created_at', {\n            ascending: false\n          }).limit(200);\n        }\n        if (dataResp.error) throw dataResp.error;\n        let data = dataResp.data || [];\n\n        // If customer join did not populate, try to enrich by email and name (case-insensitive)\n        const needsEnrich = Array.isArray(data) && data.some(r => !r.customer && (r.user_name || r.user_email || r.email));\n        if (needsEnrich) {\n          const norm = s => (s || '').toString().trim().toLowerCase();\n          // Note: keys computed below were unused; removed to satisfy linter.\n\n          // Fetch profiles once (cannot query ilike with IN across normalized), fetch all and map on client for robustness\n          const profResp = await supabase.from('customer_profiles').select('full_name,email,contact_number,gender,plate_no');\n          if (!profResp.error && Array.isArray(profResp.data)) {\n            const byName = new Map();\n            const byEmail = new Map();\n            for (const p of profResp.data) {\n              const nk = norm(p.full_name);\n              const ek = norm(p.email);\n              if (nk && !byName.has(nk)) byName.set(nk, p);\n              if (ek && !byEmail.has(ek)) byEmail.set(ek, p);\n            }\n            data = data.map(r => {\n              const ck = r.customer;\n              if (ck) return r;\n              const hitByEmail = byEmail.get(norm(r.user_email || r.email));\n              const hitByName = byName.get(norm(r.user_name));\n              return {\n                ...r,\n                customer: hitByEmail || hitByName || null\n              };\n            });\n          }\n        }\n        if (!cancelled && Array.isArray(data)) {\n          setGuestData(data.map(mapReservation));\n        }\n      } catch (e) {\n        if (!cancelled) setError(e.message || 'Failed to load reports');\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    })();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3 text-sm text-gray-300\",\n      children: \"Loading reports...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 9\n    }, this), editTimesRow && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white text-black rounded-lg p-6 w-full max-w-md relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"absolute top-2 right-4 text-2xl\",\n          onClick: () => setEditTimesRow(null),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold mb-4\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold mb-1\",\n              children: \"Checked-in By\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"border rounded px-2 py-1 w-full\",\n              value: editTimes.inBy,\n              onChange: e => setEditTimes(v => ({\n                ...v,\n                inBy: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold mb-1\",\n              children: \"Check-in Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              className: \"border rounded px-2 py-1 w-full\",\n              value: editTimes.inHM,\n              onChange: e => setEditTimes(v => ({\n                ...v,\n                inHM: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold mb-1\",\n              children: \"Check-out Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              className: \"border rounded px-2 py-1 w-full\",\n              value: editTimes.outHM,\n              onChange: e => setEditTimes(v => ({\n                ...v,\n                outHM: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold mb-1\",\n              children: \"Checked-out By\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"border rounded px-2 py-1 w-full\",\n              value: editTimes.outBy,\n              onChange: e => setEditTimes(v => ({\n                ...v,\n                outBy: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end gap-2 pt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-gray-400 px-4 py-2 rounded\",\n              onClick: () => setEditTimesRow(null),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded\",\n              onClick: async () => {\n                try {\n                  var _editTimes$inBy, _editTimes$outBy;\n                  const row = editTimesRow;\n                  const updates = {};\n                  const buildIso = (baseIso, hm) => {\n                    if (!baseIso || !hm) return null;\n                    const base = new Date(baseIso);\n                    if (isNaN(base)) return null;\n                    const [h, m] = hm.split(':').map(n => parseInt(n, 10));\n                    const dt = new Date(base);\n                    dt.setHours(h || 0, m || 0, 0, 0);\n                    return dt.toISOString();\n                  };\n                  if (row._checkInField && editTimes.inHM) {\n                    const v = buildIso(row._ciISO, editTimes.inHM);\n                    if (v) updates[row._checkInField] = v;\n                  }\n                  if (row._checkOutField && editTimes.outHM) {\n                    const v = buildIso(row._coISO, editTimes.outHM);\n                    if (v) updates[row._checkOutField] = v;\n                  }\n                  // names can be updated regardless\n                  updates.checked_in_by = (_editTimes$inBy = editTimes.inBy) !== null && _editTimes$inBy !== void 0 ? _editTimes$inBy : '';\n                  updates.checked_out_by = (_editTimes$outBy = editTimes.outBy) !== null && _editTimes$outBy !== void 0 ? _editTimes$outBy : '';\n                  if (!row._id || Object.keys(updates).length === 0) {\n                    alert('Nothing to update.');\n                    return;\n                  }\n                  const {\n                    error: upErr\n                  } = await supabase.from('reservations').update(updates).eq('id', row._id);\n                  if (upErr) throw upErr;\n                  // reflect locally\n                  setGuestData(prev => prev.map(r => {\n                    if (r._id !== row._id) return r;\n                    const toDateParts = iso => {\n                      if (!iso) return {\n                        d: '',\n                        t: ''\n                      };\n                      const dt = new Date(iso);\n                      if (isNaN(dt)) return {\n                        d: '',\n                        t: ''\n                      };\n                      const d = dt.toLocaleDateString(undefined, {\n                        month: 'short',\n                        day: '2-digit'\n                      });\n                      const t = dt.toLocaleTimeString();\n                      return {\n                        d,\n                        t\n                      };\n                    };\n                    const newCiISO = updates[row._checkInField] || r._ciISO;\n                    const newCoISO = updates[row._checkOutField] || r._coISO;\n                    const ci = toDateParts(newCiISO);\n                    const co = toDateParts(newCoISO);\n                    return {\n                      ...r,\n                      _ciISO: newCiISO,\n                      _coISO: newCoISO,\n                      checkInDate: ci.d,\n                      checkInTime: ci.t,\n                      checkOutDate: co.d,\n                      checkOutTime: co.t,\n                      checkedInBy: updates.checked_in_by,\n                      checkedOutBy: updates.checked_out_by\n                    };\n                  }));\n                  setEditTimesRow(null);\n                } catch (e) {\n                  alert('Failed to update times: ' + (e.message || e));\n                }\n              },\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3 text-sm text-red-300\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-lg bg-[#232f47] p-3 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-300\",\n          children: \"\\uD83D\\uDFE2 Checked-In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold\",\n          children: checkedInCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-lg bg-[#232f47] p-3 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-300\",\n          children: \"\\uD83D\\uDD34 Checked-Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold\",\n          children: checkedOutCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-lg bg-[#232f47] p-3 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-300\",\n          children: \"\\uD83D\\uDCB0 Total Revenue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold\",\n          children: [\"\\u20B1\", totalRevenue.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3 flex flex-col md:flex-row items-start md:items-center gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"remarksFilter\",\n          className: \"font-semibold\",\n          children: \"Filter:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"remarksFilter\",\n          className: \"px-2 py-1 rounded bg-[#232f47] text-white\",\n          value: remarksFilter,\n          onChange: e => setRemarksFilter(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"All\",\n            children: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this), uniqueRemarks.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: r,\n            children: r\n          }, r, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 w-full\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          value: search,\n          onChange: e => setSearch(e.target.value),\n          placeholder: \"Search by name, email, contact, room, plate...\",\n          className: \"w-full md:w-96 bg-[#232f47] text-white rounded px-3 py-2 outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 ml-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleExportExcel,\n          className: \"px-3 py-2 rounded bg-emerald-600 hover:bg-emerald-500 text-white shadow-sm\",\n          title: \"Export visible rows to Excel\",\n          children: \"Export to Excel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto max-w-full border border-[#232f47] rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-[1000px] w-full border-collapse text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"bg-[#2a3350] text-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2 text-left\",\n              children: \"Guest Info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2 text-left\",\n              children: \"Stay Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2 text-left\",\n              children: \"Billing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2 text-left\",\n              children: \"Vehicle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2 text-left\",\n              children: \"Checked-in By\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2 text-left\",\n              children: \"Checked-out By\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2 text-left\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2 text-left\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: filteredData.map((row, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: `${i % 2 === 0 ? 'bg-[#1E1E2F]' : 'bg-[#232336]'} hover:bg-[#2a2a40] transition`,\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-3 align-top\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Field, {\n                  label: \"Name\",\n                  value: row.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  label: \"Email\",\n                  value: row.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  label: \"Contact\",\n                  value: row.contact\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  label: \"Gender\",\n                  value: row.gender\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-3 align-top\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Field, {\n                  label: \"Room\",\n                  value: row.roomNo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  label: \"Days\",\n                  value: row.days\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  label: \"Check-in\",\n                  value: `${row.checkInDate} • ${row.checkInTime}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  label: \"Check-out\",\n                  value: `${row.checkOutDate} • ${row.checkOutTime}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-3 align-top\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Field, {\n                  label: \"Amount\",\n                  value: `₱${(Number(row.amount) || 0).toLocaleString()}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  label: \"Pax\",\n                  value: row.pax\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-3 align-top\",\n              children: /*#__PURE__*/_jsxDEV(Field, {\n                label: \"Plate No.\",\n                value: row.plateNo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-3 align-top\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white\",\n                children: row.checkedInBy || '—'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-3 align-top\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white\",\n                children: row.checkedOutBy || '—'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-3 align-top\",\n              children: /*#__PURE__*/_jsxDEV(StatusChip, {\n                remarks: row.remarks\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-3 align-top\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white shadow-sm disabled:opacity-50\",\n                  onClick: () => {\n                    const toHM = iso => {\n                      if (!iso) return '';\n                      const d = new Date(iso);\n                      if (isNaN(d)) return '';\n                      const hh = String(d.getHours()).padStart(2, '0');\n                      const mm = String(d.getMinutes()).padStart(2, '0');\n                      return `${hh}:${mm}`;\n                    };\n                    setEditTimesRow(row);\n                    setEditTimes({\n                      inHM: toHM(row._ciISO),\n                      outHM: toHM(row._coISO),\n                      inBy: row.checkedInBy || '',\n                      outBy: row.checkedOutBy || ''\n                    });\n                  },\n                  disabled: !row._id || !row._checkInField && !row._checkOutField,\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"fixed bottom-8 right-8 rounded-full bg-green-600 hover:bg-green-500 text-white w-12 h-12 shadow-lg text-2xl\",\n      title: \"Add Guest\",\n      onClick: () => setShowAdd(true),\n      children: \"\\u2795\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 7\n    }, this), showAdd && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n      onClick: () => setShowAdd(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white text-black rounded-lg p-8 w-full max-w-2xl relative max-h-[90vh] overflow-y-auto\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"absolute top-2 right-4 text-2xl\",\n          onClick: () => setShowAdd(false),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Add New Guest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            handleAddGuest();\n          },\n          className: \"grid grid-cols-2 gap-4\",\n          children: [columns.map(col => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs font-semibold mb-1\",\n              children: col\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"border p-1 rounded\",\n              value: newGuest[colToKey(col)] || '',\n              onChange: e => setNewGuest({\n                ...newGuest,\n                [colToKey(col)]: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 19\n            }, this)]\n          }, col, true, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2 mt-4 flex justify-end gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"bg-gray-400 px-4 py-2 rounded\",\n              onClick: () => setShowAdd(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded\",\n              children: \"Add Guest\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 9\n    }, this), false && detailRow && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n      onClick: () => setDetailRow(null),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-[#1c2436] text-white rounded-lg p-6 w-full max-w-3xl relative max-h-[90vh] overflow-y-auto\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"absolute top-2 right-4 text-2xl\",\n          onClick: () => setDetailRow(null),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Guest Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg bg-[#232f47] p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold mb-2\",\n              children: \"Guest Info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Field, {\n                label: \"Name\",\n                value: detailRow.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                label: \"Email\",\n                value: detailRow.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                label: \"Contact\",\n                value: detailRow.contact\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                label: \"Gender\",\n                value: detailRow.gender\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg bg-[#232f47] p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold mb-2\",\n              children: \"Stay Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Field, {\n                label: \"Room No.\",\n                value: detailRow.roomNo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                label: \"No. of Days\",\n                value: detailRow.days\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                label: \"Check-in\",\n                value: `${detailRow.checkInDate} ${detailRow.checkInTime}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                label: \"Check-out\",\n                value: `${detailRow.checkOutDate} ${detailRow.checkOutTime}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg bg-[#232f47] p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold mb-2\",\n              children: \"Billing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Field, {\n                label: \"Amount\",\n                value: `₱${(Number(detailRow.amount) || 0).toLocaleString()}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                label: \"No. of Pax\",\n                value: detailRow.pax\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                label: \"Status\",\n                value: detailRow.remarks\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg bg-[#232f47] p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold mb-2\",\n              children: \"Vehicle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 text-sm\",\n              children: /*#__PURE__*/_jsxDEV(Field, {\n                label: \"Plate No.\",\n                value: detailRow.plateNo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n            className: \"cursor-pointer select-none\",\n            children: \"View Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid md:grid-cols-2 gap-4 mt-3 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(Field, {\n              label: \"Sector\",\n              value: detailRow.sector\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              label: \"Purpose of Visit\",\n              value: detailRow.purpose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              label: \"Travel Arrangement\",\n              value: detailRow.travel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              label: \"Frequency of Visit\",\n              value: detailRow.frequency\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              label: \"Type of Guest\",\n              value: detailRow.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              label: \"Address/Country\",\n              value: detailRow.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              label: \"Checked-in By\",\n              value: detailRow.checkedInBy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              label: \"Checked-out By\",\n              value: detailRow.checkedOutBy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 378,\n    columnNumber: 5\n  }, this);\n}\n_s(Reports, \"JX7RYO0i8GMDhnnwpS82mOspDxo=\");\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useEffect","useState","supabase","jsxDEV","_jsxDEV","guestDataInit","checkInDate","checkInTime","checkOutDate","checkOutTime","name","company","email","contact","roomNo","days","pax","amount","remarks","sector","purpose","travel","frequency","gender","type","address","checkedInBy","checkedOutBy","plateNo","columns","Reports","_s","remarksFilter","setRemarksFilter","guestData","setGuestData","showAdd","setShowAdd","newGuest","setNewGuest","Object","fromEntries","map","col","replace","search","setSearch","detailRow","setDetailRow","editTimesRow","setEditTimesRow","editTimes","setEditTimes","inHM","outHM","inBy","outBy","loading","setLoading","error","setError","normalize","v","String","toLowerCase","isCheckedOut","r","isCheckedIn","totalRevenue","reduce","sum","Number","checkedInCount","filter","length","checkedOutCount","matchesSearch","row","q","some","includes","filteredData","uniqueRemarks","Array","from","Set","handleExportExcel","mod","XLSX","default","rows","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","fileName","Date","toISOString","slice","writeFile","e","console","alert","handleAddGuest","colToKey","StatusChip","className","children","_jsxFileName","lineNumber","columnNumber","Field","label","value","icon","cancelled","mapReservation","toDate","iso","d","t","dt","isNaN","toLocaleDateString","undefined","month","day","toLocaleTimeString","ciISO","checkin_at","check_in","start_date","created_at","coISO","checkout_at","check_out","end_date","ci","co","checkInField","hasOwnProperty","checkOutField","statusRaw","status","toString","customer","customer_profiles","_id","id","_ciISO","_coISO","_checkInField","_checkOutField","full_name","user_name","user_email","contact_number","user_contact","room_name","room_no","room","nights","guest_count","guests","total_amount","price","country","checked_in_by","checked_out_by","plate_no","vehicle_plate","dataResp","select","order","ascending","limit","message","data","needsEnrich","isArray","norm","s","trim","profResp","byName","Map","byEmail","p","nk","ek","has","set","ck","hitByEmail","get","hitByName","onClick","onChange","target","_editTimes$inBy","_editTimes$outBy","updates","buildIso","baseIso","hm","base","h","m","split","n","parseInt","setHours","keys","upErr","update","eq","prev","toDateParts","newCiISO","newCoISO","toLocaleString","htmlFor","placeholder","title","i","toHM","hh","getHours","padStart","mm","getMinutes","disabled","stopPropagation","onSubmit","preventDefault","_c","$RefreshReg$"],"sources":["C:/Users/User/OneDrive/Desktop/HOTEL RESERVATION SYSTEM LATEST/front end/admin/src/Reports.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { supabase } from './lib/supabase';\n\n  const guestDataInit = [\n    {\n      checkInDate: 'Mar 28',\n      checkInTime: '6:55:00 PM',\n      checkOutDate: 'Mar 29',\n      checkOutTime: '7:20 AM',\n      name: '',\n      company: '',\n      email: '',\n      contact: '',\n      roomNo: '',\n      days: '',\n    pax: '',\n    amount: '',\n    remarks: 'Checked-Out',\n    sector: 'BPO',\n    purpose: 'holiday/rest/recreation',\n    travel: 'Independent travel',\n    frequency: 'First timer',\n    gender: 'MALE',\n    type: 'Domestic Guest',\n    address: 'BENGUET',\n    checkedInBy: 'RENDEL',\n    checkedOutBy: 'MARYROSE',\n    plateNo: ''\n  },\n  {\n    checkInDate: 'Mar 28',\n    checkInTime: '6:55:00 PM',\n    checkOutDate: 'Mar 29',\n    checkOutTime: '7:20 AM',\n    name: '',\n    company: '',\n    email: '',\n    contact: '',\n    roomNo: '',\n    days: '',\n    pax: '',\n    amount: '',\n    remarks: 'Checked-Out',\n    sector: 'CONSUMER GOOD',\n    purpose: 'holiday/rest/recreation',\n    travel: 'Bought package tour',\n    frequency: 'First timer',\n    gender: 'FEMALE',\n    type: 'Domestic Guest',\n    address: 'BENGUET',\n    checkedInBy: 'RENDEL',\n    checkedOutBy: 'MARYROSE',\n    plateNo: ''\n  },\n  {\n    checkInDate: 'Mar 28',\n    checkInTime: '8:04:00 PM',\n    checkOutDate: 'Mar 30',\n    checkOutTime: '7:20 AM',\n    name: '',\n    company: '',\n    email: '',\n    contact: '',\n    roomNo: '',\n    days: '',\n    pax: '',\n    amount: '',\n    remarks: 'Checked-Out',\n    sector: 'TELECOM IT',\n    purpose: 'Business & related business/trade',\n    travel: 'Repeat visitors',\n    frequency: 'Repeat visitors',\n    gender: 'FEMALE',\n    type: 'Domestic Guest',\n    address: 'BAGUIO CITY',\n    checkedInBy: 'RENDEL',\n    checkedOutBy: 'MAYBELL',\n    plateNo: ''\n  },\n  {\n    checkInDate: 'Mar 30',\n    checkInTime: '2:34:00 AM',\n    checkOutDate: 'Apr 2',\n    checkOutTime: '11:26 AM',\n    name: '',\n    company: '',\n    email: '',\n    contact: '9364257542',\n    roomNo: '20',\n    days: '3',\n    pax: '7',\n    amount: '9800',\n    remarks: 'Checked-Out',\n    sector: '',\n    purpose: '',\n    travel: '',\n    frequency: '',\n    gender: '',\n    type: '',\n    address: '',\n    checkedInBy: '',\n    checkedOutBy: '',\n    plateNo: ''\n  },\n  {\n    checkInDate: 'Mar 30',\n    checkInTime: '12 nn',\n    checkOutDate: 'Mar 30',\n    checkOutTime: '',\n    name: '',\n    company: '',\n    email: '',\n    contact: '',\n    roomNo: '21',\n    days: '1',\n    pax: '1',\n    amount: '1500',\n    remarks: 'Check -Inn',\n    sector: '',\n    purpose: '',\n    travel: '',\n    frequency: '',\n    gender: '',\n    type: '',\n    address: '',\n    checkedInBy: '',\n    checkedOutBy: '',\n    plateNo: ''\n  },\n];\n\nconst columns = [\n  'Name', 'Email Address', 'Contact No.', 'Room No.', 'Check-in Date', 'Check-out Date', \n  'No. of Days', 'Amount', 'Plate No.', 'Checked-in By', 'Checked-out By', 'Remarks'\n];\n\nfunction Reports() {\n  const [remarksFilter, setRemarksFilter] = useState('All');\n  const [guestData, setGuestData] = useState(guestDataInit);\n  const [showAdd, setShowAdd] = useState(false);\n  const [newGuest, setNewGuest] = useState(() => Object.fromEntries(columns.map(col => [col.replace(/ |\\//g, '').replace(/-/g, ''), ''])));\n  const [search, setSearch] = useState('');\n  const [detailRow, setDetailRow] = useState(null);\n  const [editTimesRow, setEditTimesRow] = useState(null); // row being edited for times\n  const [editTimes, setEditTimes] = useState({ inHM: '', outHM: '', inBy: '', outBy: '' });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const normalize = (v = '') => String(v || '').toLowerCase();\n  const isCheckedOut = (r) => normalize(r.remarks) === 'checked-out';\n  const isCheckedIn = (r) => normalize(r.remarks) === 'checked-in';\n\n  const totalRevenue = guestData.reduce((sum, r) => sum + (Number(r.amount) || 0), 0);\n  const checkedInCount = guestData.filter(isCheckedIn).length;\n  const checkedOutCount = guestData.filter(isCheckedOut).length;\n\n  const matchesSearch = (row) => {\n    const q = normalize(search);\n    if (!q) return true;\n    return [row.name, row.email, row.contact, row.roomNo, row.plateNo]\n      .some(v => normalize(v).includes(q));\n  };\n\n  const filteredData = guestData\n    .filter(row => (remarksFilter === 'All' ? true : row.remarks === remarksFilter))\n    .filter(matchesSearch);\n  const uniqueRemarks = Array.from(new Set(guestData.map(row => row.remarks)));\n\n  // Export current filtered data to Excel (.xlsx)\n  const handleExportExcel = async () => {\n    try {\n      // Dynamic import so the app still loads even if xlsx isn't installed yet\n      const mod = await import('xlsx');\n      const XLSX = mod && mod.default ? mod.default : mod; // support both ESM and CJS shapes\n      // Map visible rows to a flat object with human-friendly headers\n      const rows = filteredData.map((r) => ({\n        'Check-in Date': r.checkInDate,\n        'Check-in Time': r.checkInTime,\n        'Check-out Date': r.checkOutDate,\n        'Check-out Time': r.checkOutTime,\n        'Name': r.name,\n        'Company': r.company,\n        'Email Address': r.email,\n        'Contact No.': r.contact,\n        'Room No.': r.roomNo,\n        'No. of Days': r.days,\n        'No. of Pax': r.pax,\n        'Amount': r.amount,\n        'Remarks': r.remarks,\n        'Sector': r.sector,\n        'Purpose of Visit': r.purpose,\n        'Travel Arrangement': r.travel,\n        'Frequency of Visit': r.frequency,\n        'Gender': r.gender,\n        'Type of Guest': r.type,\n        'Address/Country': r.address,\n        'Checked-in By': r.checkedInBy,\n        'Checked-out By': r.checkedOutBy,\n        'Plate No.': r.plateNo,\n      }));\n\n      const ws = XLSX.utils.json_to_sheet(rows);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, 'Reports');\n      const fileName = `reports_${new Date().toISOString().slice(0,10)}.xlsx`;\n      XLSX.writeFile(wb, fileName);\n    } catch (e) {\n      console.error('Export to Excel failed:', e);\n      alert('Export failed. Please ensure the \"xlsx\" package is installed in admin frontend (npm i xlsx).');\n    }\n  };\n\n  const handleAddGuest = () => {\n    setGuestData([ { ...newGuest }, ...guestData ]);\n    setShowAdd(false);\n    setNewGuest(Object.fromEntries(columns.map(col => [col.replace(/ |\\//g, '').replace(/-/g, ''), ''])));\n  };\n\n  // Map column names to object keys for newGuest\n  const colToKey = col => col.replace(/ |\\//g, '').replace(/-/g, '');\n\n  const StatusChip = ({ remarks }) => {\n    const r = normalize(remarks);\n    if (r === 'checked-out') return <span className=\"px-2 py-0.5 rounded-full text-xs font-semibold bg-red-600/20 text-red-300 border border-red-500/40\">Checked-Out</span>;\n    if (r === 'checked-in' || r === 'confirmed') return <span className=\"px-2 py-0.5 rounded-full text-xs font-semibold bg-green-600/20 text-green-300 border border-green-500/40\">Checked-In</span>;\n    if (r === 'pending') return <span className=\"px-2 py-0.5 rounded-full text-xs font-semibold bg-yellow-500/20 text-yellow-300 border border-yellow-400/40\">Pending</span>;\n    if (r === 'cancelled') return <span className=\"px-2 py-0.5 rounded-full text-xs font-semibold bg-rose-600/20 text-rose-300 border border-rose-500/40\">Cancelled</span>;\n    return <span className=\"px-2 py-0.5 rounded-full text-xs font-semibold bg-gray-500/20 text-gray-300 border border-gray-400/40\">Status</span>;\n  };\n\n  const Field = ({ label, value, icon }) => (\n    <div className=\"flex items-center gap-1\">\n      {icon && <span className=\"opacity-80\">{icon}</span>}\n      <span className=\"text-gray-300 text-xs\">{label}:</span>\n      <span className=\"text-white text-sm font-medium\">{value || '—'}</span>\n    </div>\n  );\n\n  // Fetch real data from Supabase reservations\n  useEffect(() => {\n    let cancelled = false;\n    const mapReservation = (r) => {\n      const toDate = (iso) => {\n        if (!iso) return { d: '', t: '' };\n        const dt = new Date(iso);\n        if (isNaN(dt)) return { d: '', t: '' };\n        const d = dt.toLocaleDateString(undefined, { month: 'short', day: '2-digit' });\n        const t = dt.toLocaleTimeString();\n        return { d, t };\n      };\n      const ciISO = r.checkin_at || r.check_in || r.start_date || r.created_at || null;\n      const coISO = r.checkout_at || r.check_out || r.end_date || null;\n      const ci = toDate(ciISO);\n      const co = toDate(coISO);\n      const checkInField = (r.hasOwnProperty('checkin_at')) ? 'checkin_at'\n        : (r.hasOwnProperty('check_in')) ? 'check_in'\n        : (r.hasOwnProperty('start_date')) ? 'start_date'\n        : undefined; // avoid editing created_at\n      const checkOutField = (r.hasOwnProperty('checkout_at')) ? 'checkout_at'\n        : (r.hasOwnProperty('check_out')) ? 'check_out'\n        : (r.hasOwnProperty('end_date')) ? 'end_date'\n        : undefined;\n      // Map reservation.status exactly to reports remarks\n      const statusRaw = (r.status || '').toString().toLowerCase();\n      let remarks = 'Pending';\n      if (statusRaw === 'pending') remarks = 'Pending';\n      else if (statusRaw === 'confirmed') remarks = 'Checked-In';\n      else if (statusRaw === 'checked out') remarks = 'Checked-Out';\n      else if (statusRaw === 'cancelled') remarks = 'Cancelled';\n      // Prefer joined customer profile fields when available\n      const customer = r.customer || r.customer_profiles || null;\n      return {\n        _id: r.id,\n        _ciISO: ciISO,\n        _coISO: coISO,\n        _checkInField: checkInField,\n        _checkOutField: checkOutField,\n        checkInDate: ci.d,\n        checkInTime: ci.t,\n        checkOutDate: co.d,\n        checkOutTime: co.t,\n        name: (customer?.full_name) || r.user_name || r.name || '',\n        company: r.company || '',\n        email: (customer?.email) || r.user_email || r.email || '',\n        contact: (customer?.contact_number) || r.user_contact || r.contact || '',\n        roomNo: r.room_name || r.room_no || r.room || '',\n        days: r.nights || r.days || '',\n        pax: r.guest_count || r.pax || r.guests || '',\n        amount: r.total_amount || r.amount || r.price || '',\n        remarks,\n        sector: r.sector || '',\n        purpose: r.purpose || '',\n        travel: r.travel || '',\n        frequency: r.frequency || '',\n        gender: (customer?.gender) || r.gender || '',\n        type: r.type || '',\n        address: r.address || r.country || '',\n        checkedInBy: r.checked_in_by || '',\n        checkedOutBy: r.checked_out_by || '',\n        plateNo: (customer?.plate_no) || r.plate_no || r.vehicle_plate || '',\n      };\n    };\n    (async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        // First, try join to customer_profiles via customer_id (requires FK)\n        let dataResp = await supabase\n          .from('reservations')\n          .select(`\n            *,\n            customer:customer_id (\n              full_name,\n              email,\n              contact_number,\n              gender,\n              plate_no\n            )\n          `)\n          .order('created_at', { ascending: false })\n          .limit(200);\n\n        // If relationship is missing, fall back to simple select\n        if (dataResp.error && String(dataResp.error.message || '').includes('relationship')) {\n          dataResp = await supabase\n            .from('reservations')\n            .select('*')\n            .order('created_at', { ascending: false })\n            .limit(200);\n        }\n\n        if (dataResp.error) throw dataResp.error;\n        let data = dataResp.data || [];\n\n        // If customer join did not populate, try to enrich by email and name (case-insensitive)\n        const needsEnrich = Array.isArray(data) && data.some(r => !r.customer && (r.user_name || r.user_email || r.email));\n        if (needsEnrich) {\n          const norm = (s) => (s || '').toString().trim().toLowerCase();\n          // Note: keys computed below were unused; removed to satisfy linter.\n\n          // Fetch profiles once (cannot query ilike with IN across normalized), fetch all and map on client for robustness\n          const profResp = await supabase\n            .from('customer_profiles')\n            .select('full_name,email,contact_number,gender,plate_no');\n\n          if (!profResp.error && Array.isArray(profResp.data)) {\n            const byName = new Map();\n            const byEmail = new Map();\n            for (const p of profResp.data) {\n              const nk = norm(p.full_name);\n              const ek = norm(p.email);\n              if (nk && !byName.has(nk)) byName.set(nk, p);\n              if (ek && !byEmail.has(ek)) byEmail.set(ek, p);\n            }\n            data = data.map(r => {\n              const ck = r.customer;\n              if (ck) return r;\n              const hitByEmail = byEmail.get(norm(r.user_email || r.email));\n              const hitByName = byName.get(norm(r.user_name));\n              return { ...r, customer: hitByEmail || hitByName || null };\n            });\n          }\n        }\n\n        if (!cancelled && Array.isArray(data)) {\n          setGuestData(data.map(mapReservation));\n        }\n      } catch (e) {\n        if (!cancelled) setError(e.message || 'Failed to load reports');\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    })();\n    return () => { cancelled = true; };\n  }, []);\n\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-2xl font-bold mb-4\">Reports</h2>\n      {loading && (\n        <div className=\"mb-3 text-sm text-gray-300\">Loading reports...</div>\n      )}\n\n      {/* Edit Modal */}\n      {editTimesRow && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\n          <div className=\"bg-white text-black rounded-lg p-6 w-full max-w-md relative\">\n            <button className=\"absolute top-2 right-4 text-2xl\" onClick={() => setEditTimesRow(null)}>&times;</button>\n            <h3 className=\"text-lg font-bold mb-4\">Edit</h3>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-semibold mb-1\">Checked-in By</label>\n                <input type=\"text\" className=\"border rounded px-2 py-1 w-full\" value={editTimes.inBy} onChange={e => setEditTimes(v => ({ ...v, inBy: e.target.value }))} />\n              </div>\n              <div>\n                <label className=\"block text-sm font-semibold mb-1\">Check-in Time</label>\n                <input type=\"time\" className=\"border rounded px-2 py-1 w-full\" value={editTimes.inHM} onChange={e => setEditTimes(v => ({ ...v, inHM: e.target.value }))} />\n              </div>\n              <div>\n                <label className=\"block text-sm font-semibold mb-1\">Check-out Time</label>\n                <input type=\"time\" className=\"border rounded px-2 py-1 w-full\" value={editTimes.outHM} onChange={e => setEditTimes(v => ({ ...v, outHM: e.target.value }))} />\n              </div>\n              <div>\n                <label className=\"block text-sm font-semibold mb-1\">Checked-out By</label>\n                <input type=\"text\" className=\"border rounded px-2 py-1 w-full\" value={editTimes.outBy} onChange={e => setEditTimes(v => ({ ...v, outBy: e.target.value }))} />\n              </div>\n              <div className=\"flex justify-end gap-2 pt-2\">\n                <button className=\"bg-gray-400 px-4 py-2 rounded\" onClick={() => setEditTimesRow(null)}>Cancel</button>\n                <button\n                  className=\"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded\"\n                  onClick={async () => {\n                    try {\n                      const row = editTimesRow;\n                      const updates = {};\n                      const buildIso = (baseIso, hm) => {\n                        if (!baseIso || !hm) return null;\n                        const base = new Date(baseIso);\n                        if (isNaN(base)) return null;\n                        const [h, m] = hm.split(':').map(n => parseInt(n, 10));\n                        const dt = new Date(base);\n                        dt.setHours(h || 0, m || 0, 0, 0);\n                        return dt.toISOString();\n                      };\n                      if (row._checkInField && editTimes.inHM) {\n                        const v = buildIso(row._ciISO, editTimes.inHM);\n                        if (v) updates[row._checkInField] = v;\n                      }\n                      if (row._checkOutField && editTimes.outHM) {\n                        const v = buildIso(row._coISO, editTimes.outHM);\n                        if (v) updates[row._checkOutField] = v;\n                      }\n                      // names can be updated regardless\n                      updates.checked_in_by = editTimes.inBy ?? '';\n                      updates.checked_out_by = editTimes.outBy ?? '';\n                      if (!row._id || Object.keys(updates).length === 0) {\n                        alert('Nothing to update.');\n                        return;\n                      }\n                      const { error: upErr } = await supabase\n                        .from('reservations')\n                        .update(updates)\n                        .eq('id', row._id);\n                      if (upErr) throw upErr;\n                      // reflect locally\n                      setGuestData(prev => prev.map(r => {\n                        if (r._id !== row._id) return r;\n                        const toDateParts = (iso) => {\n                          if (!iso) return { d: '', t: '' };\n                          const dt = new Date(iso);\n                          if (isNaN(dt)) return { d: '', t: '' };\n                          const d = dt.toLocaleDateString(undefined, { month: 'short', day: '2-digit' });\n                          const t = dt.toLocaleTimeString();\n                          return { d, t };\n                        };\n                        const newCiISO = updates[row._checkInField] || r._ciISO;\n                        const newCoISO = updates[row._checkOutField] || r._coISO;\n                        const ci = toDateParts(newCiISO);\n                        const co = toDateParts(newCoISO);\n                        return { ...r, _ciISO: newCiISO, _coISO: newCoISO, checkInDate: ci.d, checkInTime: ci.t, checkOutDate: co.d, checkOutTime: co.t, checkedInBy: updates.checked_in_by, checkedOutBy: updates.checked_out_by };\n                      }));\n                      setEditTimesRow(null);\n                    } catch (e) {\n                      alert('Failed to update times: ' + (e.message || e));\n                    }\n                  }}\n                >\n                  Save\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      {error && (\n        <div className=\"mb-3 text-sm text-red-300\">{error}</div>\n      )}\n      {/* Summary counters */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4\">\n        <div className=\"rounded-lg bg-[#232f47] p-3 flex items-center justify-between\">\n          <div className=\"text-sm text-gray-300\">🟢 Checked-In</div>\n          <div className=\"text-xl font-bold\">{checkedInCount}</div>\n        </div>\n        <div className=\"rounded-lg bg-[#232f47] p-3 flex items-center justify-between\">\n          <div className=\"text-sm text-gray-300\">🔴 Checked-Out</div>\n          <div className=\"text-xl font-bold\">{checkedOutCount}</div>\n        </div>\n        <div className=\"rounded-lg bg-[#232f47] p-3 flex items-center justify-between\">\n          <div className=\"text-sm text-gray-300\">💰 Total Revenue</div>\n          <div className=\"text-xl font-bold\">₱{totalRevenue.toLocaleString()}</div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"mb-3 flex flex-col md:flex-row items-start md:items-center gap-3\">\n        <div className=\"flex items-center gap-2\">\n          <label htmlFor=\"remarksFilter\" className=\"font-semibold\">Filter:</label>\n          <select\n            id=\"remarksFilter\"\n            className=\"px-2 py-1 rounded bg-[#232f47] text-white\"\n            value={remarksFilter}\n            onChange={e => setRemarksFilter(e.target.value)}\n          >\n            <option value=\"All\">All</option>\n            {uniqueRemarks.map(r => (\n              <option key={r} value={r}>{r}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"flex-1 w-full\">\n          <input\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            placeholder=\"Search by name, email, contact, room, plate...\"\n            className=\"w-full md:w-96 bg-[#232f47] text-white rounded px-3 py-2 outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n        <div className=\"flex items-center gap-2 ml-auto\">\n          <button\n            type=\"button\"\n            onClick={handleExportExcel}\n            className=\"px-3 py-2 rounded bg-emerald-600 hover:bg-emerald-500 text-white shadow-sm\"\n            title=\"Export visible rows to Excel\"\n          >\n             Export to Excel\n          </button>\n        </div>\n      </div>\n\n      {/* Table */}\n      <div className=\"overflow-x-auto max-w-full border border-[#232f47] rounded-lg\">\n        <table className=\"min-w-[1000px] w-full border-collapse text-sm\">\n          <thead>\n            <tr className=\"bg-[#2a3350] text-white\">\n              <th className=\"px-3 py-2 text-left\">Guest Info</th>\n              <th className=\"px-3 py-2 text-left\">Stay Details</th>\n              <th className=\"px-3 py-2 text-left\">Billing</th>\n              <th className=\"px-3 py-2 text-left\">Vehicle</th>\n              <th className=\"px-3 py-2 text-left\">Checked-in By</th>\n              <th className=\"px-3 py-2 text-left\">Checked-out By</th>\n              <th className=\"px-3 py-2 text-left\">Status</th>\n              <th className=\"px-3 py-2 text-left\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredData.map((row, i) => (\n              <tr\n                key={i}\n                className={`${i % 2 === 0 ? 'bg-[#1E1E2F]' : 'bg-[#232336]'} hover:bg-[#2a2a40] transition`}\n              >\n                <td className=\"px-3 py-3 align-top\">\n                  <div className=\"flex flex-col gap-1\">\n                    <Field label=\"Name\" value={row.name} />\n                    <Field label=\"Email\" value={row.email} />\n                    <Field label=\"Contact\" value={row.contact} />\n                    <Field label=\"Gender\" value={row.gender} />\n                  </div>\n                </td>\n                <td className=\"px-3 py-3 align-top\">\n                  <div className=\"flex flex-col gap-1\">\n                    <Field label=\"Room\" value={row.roomNo} />\n                    <Field label=\"Days\" value={row.days} />\n                    <Field label=\"Check-in\" value={`${row.checkInDate} • ${row.checkInTime}`} />\n                    <Field label=\"Check-out\" value={`${row.checkOutDate} • ${row.checkOutTime}`} />\n                  </div>\n                </td>\n                <td className=\"px-3 py-3 align-top\">\n                  <div className=\"flex flex-col gap-1\">\n                    <Field label=\"Amount\" value={`₱${(Number(row.amount)||0).toLocaleString()}`} />\n                    <Field label=\"Pax\" value={row.pax} />\n                  </div>\n                </td>\n                <td className=\"px-3 py-3 align-top\">\n                  <Field label=\"Plate No.\" value={row.plateNo} />\n                </td>\n                <td className=\"px-3 py-3 align-top\"><span className=\"text-white\">{row.checkedInBy || '—'}</span></td>\n                <td className=\"px-3 py-3 align-top\"><span className=\"text-white\">{row.checkedOutBy || '—'}</span></td>\n                <td className=\"px-3 py-3 align-top\">\n                  <StatusChip remarks={row.remarks} />\n                </td>\n                <td className=\"px-3 py-3 align-top\">\n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      className=\"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white shadow-sm disabled:opacity-50\"\n                      onClick={() => {\n                        const toHM = (iso) => {\n                          if (!iso) return '';\n                          const d = new Date(iso);\n                          if (isNaN(d)) return '';\n                          const hh = String(d.getHours()).padStart(2, '0');\n                          const mm = String(d.getMinutes()).padStart(2, '0');\n                          return `${hh}:${mm}`;\n                        };\n                        setEditTimesRow(row);\n                        setEditTimes({ inHM: toHM(row._ciISO), outHM: toHM(row._coISO), inBy: row.checkedInBy || '', outBy: row.checkedOutBy || '' });\n                      }}\n                      disabled={!row._id || (!row._checkInField && !row._checkOutField)}\n                    >\n                      Edit\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Floating Add button */}\n      <button\n        className=\"fixed bottom-8 right-8 rounded-full bg-green-600 hover:bg-green-500 text-white w-12 h-12 shadow-lg text-2xl\"\n        title=\"Add Guest\"\n        onClick={() => setShowAdd(true)}\n      >\n        ➕\n      </button>\n\n      {/* Add Guest Modal */}\n      {showAdd && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\" onClick={() => setShowAdd(false)}>\n          <div className=\"bg-white text-black rounded-lg p-8 w-full max-w-2xl relative max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\n            <button className=\"absolute top-2 right-4 text-2xl\" onClick={() => setShowAdd(false)}>&times;</button>\n            <h2 className=\"text-xl font-bold mb-4\">Add New Guest</h2>\n            <form onSubmit={e => { e.preventDefault(); handleAddGuest(); }} className=\"grid grid-cols-2 gap-4\">\n              {columns.map(col => (\n                <div key={col} className=\"flex flex-col\">\n                  <label className=\"text-xs font-semibold mb-1\">{col}</label>\n                  <input\n                    className=\"border p-1 rounded\"\n                    value={newGuest[colToKey(col)] || ''}\n                    onChange={e => setNewGuest({ ...newGuest, [colToKey(col)]: e.target.value })}\n                  />\n                </div>\n              ))}\n              <div className=\"col-span-2 mt-4 flex justify-end gap-2\">\n                <button type=\"button\" className=\"bg-gray-400 px-4 py-2 rounded\" onClick={() => setShowAdd(false)}>Cancel</button>\n                <button type=\"submit\" className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded\">Add Guest</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Details Modal */}\n      {false && detailRow && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\" onClick={() => setDetailRow(null)}>\n          <div className=\"bg-[#1c2436] text-white rounded-lg p-6 w-full max-w-3xl relative max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\n            <button className=\"absolute top-2 right-4 text-2xl\" onClick={() => setDetailRow(null)}>&times;</button>\n            <h3 className=\"text-xl font-bold mb-4\">Guest Details</h3>\n            <div className=\"grid md:grid-cols-2 gap-4\">\n              <div className=\"rounded-lg bg-[#232f47] p-4\">\n                <div className=\"font-semibold mb-2\">Guest Info</div>\n                <div className=\"space-y-1 text-sm\">\n                  <Field label=\"Name\" value={detailRow.name} />\n                  <Field label=\"Email\" value={detailRow.email} />\n                  <Field label=\"Contact\" value={detailRow.contact} />\n                  <Field label=\"Gender\" value={detailRow.gender} />\n                </div>\n              </div>\n              <div className=\"rounded-lg bg-[#232f47] p-4\">\n                <div className=\"font-semibold mb-2\">Stay Details</div>\n                <div className=\"space-y-1 text-sm\">\n                  <Field label=\"Room No.\" value={detailRow.roomNo} />\n                  <Field label=\"No. of Days\" value={detailRow.days} />\n                  <Field label=\"Check-in\" value={`${detailRow.checkInDate} ${detailRow.checkInTime}`} />\n                  <Field label=\"Check-out\" value={`${detailRow.checkOutDate} ${detailRow.checkOutTime}`} />\n                </div>\n              </div>\n              <div className=\"rounded-lg bg-[#232f47] p-4\">\n                <div className=\"font-semibold mb-2\">Billing</div>\n                <div className=\"space-y-1 text-sm\">\n                  <Field label=\"Amount\" value={`₱${(Number(detailRow.amount)||0).toLocaleString()}`} />\n                  <Field label=\"No. of Pax\" value={detailRow.pax} />\n                  <Field label=\"Status\" value={detailRow.remarks} />\n                </div>\n              </div>\n              <div className=\"rounded-lg bg-[#232f47] p-4\">\n                <div className=\"font-semibold mb-2\">Vehicle</div>\n                <div className=\"space-y-1 text-sm\">\n                  <Field label=\"Plate No.\" value={detailRow.plateNo} />\n                </div>\n              </div>\n            </div>\n            {/* Collapsible less important details */}\n            <details className=\"mt-4\">\n              <summary className=\"cursor-pointer select-none\">View Details</summary>\n              <div className=\"grid md:grid-cols-2 gap-4 mt-3 text-sm\">\n                <Field label=\"Sector\" value={detailRow.sector} />\n                <Field label=\"Purpose of Visit\" value={detailRow.purpose} />\n                <Field label=\"Travel Arrangement\" value={detailRow.travel} />\n                <Field label=\"Frequency of Visit\" value={detailRow.frequency} />\n                <Field label=\"Type of Guest\" value={detailRow.type} />\n                <Field label=\"Address/Country\" value={detailRow.address} />\n                <Field label=\"Checked-in By\" value={detailRow.checkedInBy} />\n                <Field label=\"Checked-out By\" value={detailRow.checkedOutBy} />\n              </div>\n            </details>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Reports;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}