{"ast":null,"code":"import { createClient } from '@supabase/supabase-js';\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\n// Helper functions for rooms management\nexport const roomsApi = {\n  // Get all rooms (including archived for admin)\n  async getAllRooms() {\n    try {\n      const response = await fetch('http://localhost:4000/api/rooms');\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching rooms:', error);\n      throw error;\n    }\n  },\n  // Get room by ID\n  async getRoomById(id) {\n    try {\n      const response = await fetch(`http://localhost:4000/api/rooms/${id}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching room:', error);\n      throw error;\n    }\n  },\n  // Create new room\n  async createRoom(roomData) {\n    try {\n      const response = await fetch('http://localhost:4000/api/rooms', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(roomData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data.room;\n    } catch (error) {\n      console.error('Error creating room:', error);\n      throw error;\n    }\n  },\n  // Update room\n  async updateRoom(id, roomData) {\n    try {\n      const response = await fetch(`http://localhost:4000/api/rooms/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(roomData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data.room;\n    } catch (error) {\n      console.error('Error updating room:', error);\n      throw error;\n    }\n  },\n  // Delete room\n  async deleteRoom(id) {\n    try {\n      const response = await fetch(`http://localhost:4000/api/rooms/${id}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data.room;\n    } catch (error) {\n      console.error('Error deleting room:', error);\n      throw error;\n    }\n  },\n  // Update room status\n  async updateRoomStatus(id, status) {\n    try {\n      const response = await fetch(`http://localhost:4000/api/rooms/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          status\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data.room;\n    } catch (error) {\n      console.error('Error updating room status:', error);\n      throw error;\n    }\n  },\n  // Search rooms\n  async searchRooms(searchTerm) {\n    try {\n      const response = await fetch(`http://localhost:4000/api/rooms?search=${encodeURIComponent(searchTerm)}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error searching rooms:', error);\n      throw error;\n    }\n  }\n};\n\n// Dashboard API functions\nexport const dashboardApi = {\n  // Get dashboard statistics\n  async getDashboardStats() {\n    try {\n      const response = await fetch('http://localhost:4000/api/dashboard/stats');\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching dashboard stats:', error);\n      throw error;\n    }\n  },\n  // Get dashboard rooms preview\n  async getDashboardRooms() {\n    try {\n      const response = await fetch('http://localhost:4000/api/dashboard/rooms');\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching dashboard rooms:', error);\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["createClient","supabaseUrl","process","env","REACT_APP_SUPABASE_URL","supabaseAnonKey","REACT_APP_SUPABASE_ANON_KEY","supabase","roomsApi","getAllRooms","response","fetch","ok","Error","status","data","json","error","console","getRoomById","id","createRoom","roomData","method","headers","body","JSON","stringify","errorData","room","updateRoom","deleteRoom","updateRoomStatus","searchRooms","searchTerm","encodeURIComponent","dashboardApi","getDashboardStats","getDashboardRooms"],"sources":["C:/Users/User/OneDrive/Desktop/HOTEL RESERVATION SYSTEM BACK UP JULY 2 2025/HOTEL RESERVATION SYSTEM/front end/admin/src/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL\r\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n\r\n// Helper functions for rooms management\r\nexport const roomsApi = {\r\n  // Get all rooms (including archived for admin)\r\n  async getAllRooms() {\r\n    try {\r\n      const response = await fetch('http://localhost:4000/api/rooms')\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`)\r\n      }\r\n      const data = await response.json()\r\n      return data\r\n    } catch (error) {\r\n      console.error('Error fetching rooms:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Get room by ID\r\n  async getRoomById(id) {\r\n    try {\r\n      const response = await fetch(`http://localhost:4000/api/rooms/${id}`)\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`)\r\n      }\r\n      const data = await response.json()\r\n      return data\r\n    } catch (error) {\r\n      console.error('Error fetching room:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Create new room\r\n  async createRoom(roomData) {\r\n    try {\r\n      const response = await fetch('http://localhost:4000/api/rooms', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(roomData)\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json()\r\n        throw new Error(errorData.error || `HTTP error! status: ${response.status}`)\r\n      }\r\n      \r\n      const data = await response.json()\r\n      return data.room\r\n    } catch (error) {\r\n      console.error('Error creating room:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Update room\r\n  async updateRoom(id, roomData) {\r\n    try {\r\n      const response = await fetch(`http://localhost:4000/api/rooms/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(roomData)\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json()\r\n        throw new Error(errorData.error || `HTTP error! status: ${response.status}`)\r\n      }\r\n      \r\n      const data = await response.json()\r\n      return data.room\r\n    } catch (error) {\r\n      console.error('Error updating room:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Delete room\r\n  async deleteRoom(id) {\r\n    try {\r\n      const response = await fetch(`http://localhost:4000/api/rooms/${id}`, {\r\n        method: 'DELETE'\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json()\r\n        throw new Error(errorData.error || `HTTP error! status: ${response.status}`)\r\n      }\r\n      \r\n      const data = await response.json()\r\n      return data.room\r\n    } catch (error) {\r\n      console.error('Error deleting room:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Update room status\r\n  async updateRoomStatus(id, status) {\r\n    try {\r\n      const response = await fetch(`http://localhost:4000/api/rooms/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ status })\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json()\r\n        throw new Error(errorData.error || `HTTP error! status: ${response.status}`)\r\n      }\r\n      \r\n      const data = await response.json()\r\n      return data.room\r\n    } catch (error) {\r\n      console.error('Error updating room status:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Search rooms\r\n  async searchRooms(searchTerm) {\r\n    try {\r\n      const response = await fetch(`http://localhost:4000/api/rooms?search=${encodeURIComponent(searchTerm)}`)\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`)\r\n      }\r\n      const data = await response.json()\r\n      return data\r\n    } catch (error) {\r\n      console.error('Error searching rooms:', error)\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\n// Dashboard API functions\r\nexport const dashboardApi = {\r\n  // Get dashboard statistics\r\n  async getDashboardStats() {\r\n    try {\r\n      const response = await fetch('http://localhost:4000/api/dashboard/stats')\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`)\r\n      }\r\n      const data = await response.json()\r\n      return data\r\n    } catch (error) {\r\n      console.error('Error fetching dashboard stats:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Get dashboard rooms preview\r\n  async getDashboardRooms() {\r\n    try {\r\n      const response = await fetch('http://localhost:4000/api/dashboard/rooms')\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`)\r\n      }\r\n      const data = await response.json()\r\n      return data\r\n    } catch (error) {\r\n      console.error('Error fetching dashboard rooms:', error)\r\n      throw error\r\n    }\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}