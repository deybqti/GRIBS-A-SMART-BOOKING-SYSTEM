{"ast":null,"code":"import { createClient } from '@supabase/supabase-js';\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\n// Helper functions for rooms management\nexport const roomsApi = {\n  // Get all rooms (including archived for admin)\n  async getAllRooms() {\n    const {\n      data,\n      error\n    } = await supabase.from('rooms').select('id, name, price, capacity, images, created_at, updated_at, status').order('created_at', {\n      ascending: false\n    });\n    if (error) {\n      console.error('Error fetching rooms:', error);\n      throw error;\n    }\n    return data;\n  },\n  // Get room by ID\n  async getRoomById(id) {\n    const {\n      data,\n      error\n    } = await supabase.from('rooms').select('id, name, price, capacity, images, created_at, updated_at, status').eq('id', id).single();\n    if (error) {\n      console.error('Error fetching room:', error);\n      throw error;\n    }\n    return data;\n  },\n  // Create new room\n  async createRoom(roomData) {\n    const {\n      data,\n      error\n    } = await supabase.from('rooms').insert([roomData]).select().single();\n    if (error) {\n      console.error('Error creating room:', error);\n      throw error;\n    }\n    return data;\n  },\n  // Update room\n  async updateRoom(id, roomData) {\n    const {\n      data,\n      error\n    } = await supabase.from('rooms').update(roomData).eq('id', id).select().single();\n    if (error) {\n      console.error('Error updating room:', error);\n      throw error;\n    }\n    return data;\n  },\n  // Delete room\n  async deleteRoom(id) {\n    const {\n      data,\n      error\n    } = await supabase.from('rooms').delete().eq('id', id).select().single();\n    if (error) {\n      console.error('Error deleting room:', error);\n      throw error;\n    }\n    return data;\n  },\n  // Update room status\n  async updateRoomStatus(id, status) {\n    const {\n      data,\n      error\n    } = await supabase.from('rooms').update({\n      status\n    }).eq('id', id).select().single();\n    if (error) {\n      console.error('Error updating room status:', error);\n      throw error;\n    }\n    return data;\n  },\n  // Search rooms\n  async searchRooms(searchTerm) {\n    const {\n      data,\n      error\n    } = await supabase.from('rooms').select('id, name, price, capacity, images, created_at, updated_at, status').or(`name.ilike.%${searchTerm}%,description.ilike.%${searchTerm}%`).order('created_at', {\n      ascending: false\n    });\n    if (error) {\n      console.error('Error searching rooms:', error);\n      throw error;\n    }\n    return data;\n  }\n};","map":{"version":3,"names":["createClient","supabaseUrl","process","env","REACT_APP_SUPABASE_URL","supabaseAnonKey","REACT_APP_SUPABASE_ANON_KEY","supabase","roomsApi","getAllRooms","data","error","from","select","order","ascending","console","getRoomById","id","eq","single","createRoom","roomData","insert","updateRoom","update","deleteRoom","delete","updateRoomStatus","status","searchRooms","searchTerm","or"],"sources":["C:/Users/User/OneDrive/Desktop/HOTEL RESERVATION SYSTEM BACK UP JULY 2 2025/HOTEL RESERVATION SYSTEM/front end/admin/src/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL\r\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n\r\n// Helper functions for rooms management\r\nexport const roomsApi = {\r\n  // Get all rooms (including archived for admin)\r\n  async getAllRooms() {\r\n    const { data, error } = await supabase\r\n      .from('rooms')\r\n      .select('id, name, price, capacity, images, created_at, updated_at, status')\r\n      .order('created_at', { ascending: false })\r\n    \r\n    if (error) {\r\n      console.error('Error fetching rooms:', error)\r\n      throw error\r\n    }\r\n    return data\r\n  },\r\n\r\n  // Get room by ID\r\n  async getRoomById(id) {\r\n    const { data, error } = await supabase\r\n      .from('rooms')\r\n      .select('id, name, price, capacity, images, created_at, updated_at, status')\r\n      .eq('id', id)\r\n      .single()\r\n    \r\n    if (error) {\r\n      console.error('Error fetching room:', error)\r\n      throw error\r\n    }\r\n    return data\r\n  },\r\n\r\n  // Create new room\r\n  async createRoom(roomData) {\r\n    const { data, error } = await supabase\r\n      .from('rooms')\r\n      .insert([roomData])\r\n      .select()\r\n      .single()\r\n    \r\n    if (error) {\r\n      console.error('Error creating room:', error)\r\n      throw error\r\n    }\r\n    return data\r\n  },\r\n\r\n  // Update room\r\n  async updateRoom(id, roomData) {\r\n    const { data, error } = await supabase\r\n      .from('rooms')\r\n      .update(roomData)\r\n      .eq('id', id)\r\n      .select()\r\n      .single()\r\n    \r\n    if (error) {\r\n      console.error('Error updating room:', error)\r\n      throw error\r\n    }\r\n    return data\r\n  },\r\n\r\n  // Delete room\r\n  async deleteRoom(id) {\r\n    const { data, error } = await supabase\r\n      .from('rooms')\r\n      .delete()\r\n      .eq('id', id)\r\n      .select()\r\n      .single()\r\n    \r\n    if (error) {\r\n      console.error('Error deleting room:', error)\r\n      throw error\r\n    }\r\n    return data\r\n  },\r\n\r\n  // Update room status\r\n  async updateRoomStatus(id, status) {\r\n    const { data, error } = await supabase\r\n      .from('rooms')\r\n      .update({ status })\r\n      .eq('id', id)\r\n      .select()\r\n      .single()\r\n    \r\n    if (error) {\r\n      console.error('Error updating room status:', error)\r\n      throw error\r\n    }\r\n    return data\r\n  },\r\n\r\n  // Search rooms\r\n  async searchRooms(searchTerm) {\r\n    const { data, error } = await supabase\r\n      .from('rooms')\r\n      .select('id, name, price, capacity, images, created_at, updated_at, status')\r\n      .or(`name.ilike.%${searchTerm}%,description.ilike.%${searchTerm}%`)\r\n      .order('created_at', { ascending: false })\r\n    \r\n    if (error) {\r\n      console.error('Error searching rooms:', error)\r\n      throw error\r\n    }\r\n    return data\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,uBAAuB;AAEpD,MAAMC,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;AACtD,MAAMC,eAAe,GAAGH,OAAO,CAACC,GAAG,CAACG,2BAA2B;AAE/D,OAAO,MAAMC,QAAQ,GAAGP,YAAY,CAACC,WAAW,EAAEI,eAAe,CAAC;;AAElE;AACA,OAAO,MAAMG,QAAQ,GAAG;EACtB;EACA,MAAMC,WAAWA,CAAA,EAAG;IAClB,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,OAAO,CAAC,CACbC,MAAM,CAAC,mEAAmE,CAAC,CAC3EC,KAAK,CAAC,YAAY,EAAE;MAAEC,SAAS,EAAE;IAAM,CAAC,CAAC;IAE5C,IAAIJ,KAAK,EAAE;MACTK,OAAO,CAACL,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,MAAMA,KAAK;IACb;IACA,OAAOD,IAAI;EACb,CAAC;EAED;EACA,MAAMO,WAAWA,CAACC,EAAE,EAAE;IACpB,MAAM;MAAER,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,OAAO,CAAC,CACbC,MAAM,CAAC,mEAAmE,CAAC,CAC3EM,EAAE,CAAC,IAAI,EAAED,EAAE,CAAC,CACZE,MAAM,CAAC,CAAC;IAEX,IAAIT,KAAK,EAAE;MACTK,OAAO,CAACL,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,MAAMA,KAAK;IACb;IACA,OAAOD,IAAI;EACb,CAAC;EAED;EACA,MAAMW,UAAUA,CAACC,QAAQ,EAAE;IACzB,MAAM;MAAEZ,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,OAAO,CAAC,CACbW,MAAM,CAAC,CAACD,QAAQ,CAAC,CAAC,CAClBT,MAAM,CAAC,CAAC,CACRO,MAAM,CAAC,CAAC;IAEX,IAAIT,KAAK,EAAE;MACTK,OAAO,CAACL,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,MAAMA,KAAK;IACb;IACA,OAAOD,IAAI;EACb,CAAC;EAED;EACA,MAAMc,UAAUA,CAACN,EAAE,EAAEI,QAAQ,EAAE;IAC7B,MAAM;MAAEZ,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,OAAO,CAAC,CACba,MAAM,CAACH,QAAQ,CAAC,CAChBH,EAAE,CAAC,IAAI,EAAED,EAAE,CAAC,CACZL,MAAM,CAAC,CAAC,CACRO,MAAM,CAAC,CAAC;IAEX,IAAIT,KAAK,EAAE;MACTK,OAAO,CAACL,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,MAAMA,KAAK;IACb;IACA,OAAOD,IAAI;EACb,CAAC;EAED;EACA,MAAMgB,UAAUA,CAACR,EAAE,EAAE;IACnB,MAAM;MAAER,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,OAAO,CAAC,CACbe,MAAM,CAAC,CAAC,CACRR,EAAE,CAAC,IAAI,EAAED,EAAE,CAAC,CACZL,MAAM,CAAC,CAAC,CACRO,MAAM,CAAC,CAAC;IAEX,IAAIT,KAAK,EAAE;MACTK,OAAO,CAACL,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,MAAMA,KAAK;IACb;IACA,OAAOD,IAAI;EACb,CAAC;EAED;EACA,MAAMkB,gBAAgBA,CAACV,EAAE,EAAEW,MAAM,EAAE;IACjC,MAAM;MAAEnB,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,OAAO,CAAC,CACba,MAAM,CAAC;MAAEI;IAAO,CAAC,CAAC,CAClBV,EAAE,CAAC,IAAI,EAAED,EAAE,CAAC,CACZL,MAAM,CAAC,CAAC,CACRO,MAAM,CAAC,CAAC;IAEX,IAAIT,KAAK,EAAE;MACTK,OAAO,CAACL,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnD,MAAMA,KAAK;IACb;IACA,OAAOD,IAAI;EACb,CAAC;EAED;EACA,MAAMoB,WAAWA,CAACC,UAAU,EAAE;IAC5B,MAAM;MAAErB,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,OAAO,CAAC,CACbC,MAAM,CAAC,mEAAmE,CAAC,CAC3EmB,EAAE,CAAC,eAAeD,UAAU,wBAAwBA,UAAU,GAAG,CAAC,CAClEjB,KAAK,CAAC,YAAY,EAAE;MAAEC,SAAS,EAAE;IAAM,CAAC,CAAC;IAE5C,IAAIJ,KAAK,EAAE;MACTK,OAAO,CAACL,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C,MAAMA,KAAK;IACb;IACA,OAAOD,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}